# Maintainer: Vicki Pfau <vi@endrift.com>

pkgname=steamos-manager
_srctag=v25.12.0
pkgver=${_srctag##v}
pkgrel=1
pkgdesc='SteamOS Manager daemon for running various system management tasks'
arch=('x86_64')
url='https://store.steampowered.com/steamos/'
license=('MIT')
depends=('dbus'
         'libspeechd'
         'steamos-networking-tools'  # For steamos-wifi-set-backend
         'systemd'
         'wireless_tools' # For iwconfig
         'gsettings-desktop-schemas')
optdepends=('jupiter-hw-support: jupiter support'  # Needed for jupiter-get-als-gain, jupiter-biosupdate, steamos-format-device, steamos-trim-devices
            'jupiter-dock-updater-bin: jupiter dock updater'  # Needed for jupiter-dock-updater
            'orca: Screen reader support'
            'plasma-remotecontrollers: CEC wake support'
            'scx-scheds: LAVD scheduler support'
            'steamos-customizations-jupiter: jupiter support'  # Needed for steamos-factory-reset-config
            'steamos-log-submitter: ftrace logging'
            'wakehook: CEC wake support')
makedepends=('cargo'
             'clang'  # For the speech-dispatcher-sys crate
             'git'
             'holo-rust-packaging-tools'
             'speech-dispatcher')  # For the speech-dispatcher-sys crate
source=("$pkgname-$pkgver::git+https://github.com/evlav/$pkgname.git#tag=${_srctag}"
        'aho-corasick-1.1.4.tar.gz::https://crates.io/api/v1/crates/aho-corasick/1.1.4/download'
        'anstyle-1.0.13.tar.gz::https://crates.io/api/v1/crates/anstyle/1.0.13/download'
        'anyhow-1.0.100.tar.gz::https://crates.io/api/v1/crates/anyhow/1.0.100/download'
        'async-broadcast-0.7.2.tar.gz::https://crates.io/api/v1/crates/async-broadcast/0.7.2/download'
        'async-recursion-1.1.1.tar.gz::https://crates.io/api/v1/crates/async-recursion/1.1.1/download'
        'async-trait-0.1.89.tar.gz::https://crates.io/api/v1/crates/async-trait/0.1.89/download'
        'autocfg-1.5.0.tar.gz::https://crates.io/api/v1/crates/autocfg/1.5.0/download'
        'bindgen-0.72.1.tar.gz::https://crates.io/api/v1/crates/bindgen/0.72.1/download'
        'bitflags-2.10.0.tar.gz::https://crates.io/api/v1/crates/bitflags/2.10.0/download'
        'bumpalo-3.19.1.tar.gz::https://crates.io/api/v1/crates/bumpalo/3.19.1/download'
        'bytes-1.11.0.tar.gz::https://crates.io/api/v1/crates/bytes/1.11.0/download'
        'cexpr-0.6.0.tar.gz::https://crates.io/api/v1/crates/cexpr/0.6.0/download'
        'cfg_aliases-0.2.1.tar.gz::https://crates.io/api/v1/crates/cfg_aliases/0.2.1/download'
        'cfg-expr-0.20.5.tar.gz::https://crates.io/api/v1/crates/cfg-expr/0.20.5/download'
        'cfg-if-1.0.4.tar.gz::https://crates.io/api/v1/crates/cfg-if/1.0.4/download'
        'clang-sys-1.8.1.tar.gz::https://crates.io/api/v1/crates/clang-sys/1.8.1/download'
        'clap-4.5.53.tar.gz::https://crates.io/api/v1/crates/clap/4.5.53/download'
        'clap_builder-4.5.53.tar.gz::https://crates.io/api/v1/crates/clap_builder/4.5.53/download'
        'clap_derive-4.5.49.tar.gz::https://crates.io/api/v1/crates/clap_derive/4.5.49/download'
        'clap_lex-0.7.6.tar.gz::https://crates.io/api/v1/crates/clap_lex/0.7.6/download'
        'concurrent-queue-2.5.0.tar.gz::https://crates.io/api/v1/crates/concurrent-queue/2.5.0/download'
        'config-0.15.19.tar.gz::https://crates.io/api/v1/crates/config/0.15.19/download'
        'const-random-0.1.18.tar.gz::https://crates.io/api/v1/crates/const-random/0.1.18/download'
        'const-random-macro-0.1.16.tar.gz::https://crates.io/api/v1/crates/const-random-macro/0.1.16/download'
        'crossbeam-utils-0.8.21.tar.gz::https://crates.io/api/v1/crates/crossbeam-utils/0.8.21/download'
        'crunchy-0.2.4.tar.gz::https://crates.io/api/v1/crates/crunchy/0.2.4/download'
        'dlv-list-0.5.2.tar.gz::https://crates.io/api/v1/crates/dlv-list/0.5.2/download'
        'either-1.15.0.tar.gz::https://crates.io/api/v1/crates/either/1.15.0/download'
        'endi-1.1.1.tar.gz::https://crates.io/api/v1/crates/endi/1.1.1/download'
        'enumflags2-0.7.12.tar.gz::https://crates.io/api/v1/crates/enumflags2/0.7.12/download'
        'enumflags2_derive-0.7.12.tar.gz::https://crates.io/api/v1/crates/enumflags2_derive/0.7.12/download'
        'equivalent-1.0.2.tar.gz::https://crates.io/api/v1/crates/equivalent/1.0.2/download'
        'errno-0.3.14.tar.gz::https://crates.io/api/v1/crates/errno/0.3.14/download'
        'event-listener-5.4.1.tar.gz::https://crates.io/api/v1/crates/event-listener/5.4.1/download'
        'event-listener-strategy-0.5.4.tar.gz::https://crates.io/api/v1/crates/event-listener-strategy/0.5.4/download'
        'fastrand-2.3.0.tar.gz::https://crates.io/api/v1/crates/fastrand/2.3.0/download'
        'futures-channel-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-channel/0.3.31/download'
        'futures-core-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-core/0.3.31/download'
        'futures-executor-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-executor/0.3.31/download'
        'futures-io-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-io/0.3.31/download'
        'futures-lite-2.6.1.tar.gz::https://crates.io/api/v1/crates/futures-lite/2.6.1/download'
        'futures-macro-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-macro/0.3.31/download'
        'futures-sink-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-sink/0.3.31/download'
        'futures-task-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-task/0.3.31/download'
        'futures-util-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-util/0.3.31/download'
        'getrandom-0.2.16.tar.gz::https://crates.io/api/v1/crates/getrandom/0.2.16/download'
        'getrandom-0.3.4.tar.gz::https://crates.io/api/v1/crates/getrandom/0.3.4/download'
        'gio-0.21.5.tar.gz::https://crates.io/api/v1/crates/gio/0.21.5/download'
        'gio-sys-0.21.5.tar.gz::https://crates.io/api/v1/crates/gio-sys/0.21.5/download'
        'glib-0.21.5.tar.gz::https://crates.io/api/v1/crates/glib/0.21.5/download'
        'glib-macros-0.21.5.tar.gz::https://crates.io/api/v1/crates/glib-macros/0.21.5/download'
        'glib-sys-0.21.5.tar.gz::https://crates.io/api/v1/crates/glib-sys/0.21.5/download'
        'glob-0.3.3.tar.gz::https://crates.io/api/v1/crates/glob/0.3.3/download'
        'gobject-sys-0.21.5.tar.gz::https://crates.io/api/v1/crates/gobject-sys/0.21.5/download'
        'hashbrown-0.14.5.tar.gz::https://crates.io/api/v1/crates/hashbrown/0.14.5/download'
        'hashbrown-0.16.1.tar.gz::https://crates.io/api/v1/crates/hashbrown/0.16.1/download'
        'heck-0.5.0.tar.gz::https://crates.io/api/v1/crates/heck/0.5.0/download'
        'hermit-abi-0.3.9.tar.gz::https://crates.io/api/v1/crates/hermit-abi/0.3.9/download'
        'hex-0.4.3.tar.gz::https://crates.io/api/v1/crates/hex/0.4.3/download'
        'indexmap-2.12.1.tar.gz::https://crates.io/api/v1/crates/indexmap/2.12.1/download'
        'inotify-0.11.0.tar.gz::https://crates.io/api/v1/crates/inotify/0.11.0/download'
        'inotify-sys-0.1.5.tar.gz::https://crates.io/api/v1/crates/inotify-sys/0.1.5/download'
        'input-linux-0.7.1.tar.gz::https://crates.io/api/v1/crates/input-linux/0.7.1/download'
        'input-linux-sys-0.9.0.tar.gz::https://crates.io/api/v1/crates/input-linux-sys/0.9.0/download'
        'io-lifetimes-1.0.11.tar.gz::https://crates.io/api/v1/crates/io-lifetimes/1.0.11/download'
        'itertools-0.13.0.tar.gz::https://crates.io/api/v1/crates/itertools/0.13.0/download'
        'itertools-0.14.0.tar.gz::https://crates.io/api/v1/crates/itertools/0.14.0/download'
        'itoa-1.0.16.tar.gz::https://crates.io/api/v1/crates/itoa/1.0.16/download'
        'js-sys-0.3.83.tar.gz::https://crates.io/api/v1/crates/js-sys/0.3.83/download'
        'lazy_static-1.5.0.tar.gz::https://crates.io/api/v1/crates/lazy_static/1.5.0/download'
        'libc-0.2.178.tar.gz::https://crates.io/api/v1/crates/libc/0.2.178/download'
        'libloading-0.8.9.tar.gz::https://crates.io/api/v1/crates/libloading/0.8.9/download'
        'libudev-sys-0.1.4.tar.gz::https://crates.io/api/v1/crates/libudev-sys/0.1.4/download'
        'linux-raw-sys-0.11.0.tar.gz::https://crates.io/api/v1/crates/linux-raw-sys/0.11.0/download'
        'log-0.4.29.tar.gz::https://crates.io/api/v1/crates/log/0.4.29/download'
        'matchers-0.2.0.tar.gz::https://crates.io/api/v1/crates/matchers/0.2.0/download'
        'memchr-2.7.6.tar.gz::https://crates.io/api/v1/crates/memchr/2.7.6/download'
        'memoffset-0.9.1.tar.gz::https://crates.io/api/v1/crates/memoffset/0.9.1/download'
        'minimal-lexical-0.2.1.tar.gz::https://crates.io/api/v1/crates/minimal-lexical/0.2.1/download'
        'mio-1.1.1.tar.gz::https://crates.io/api/v1/crates/mio/1.1.1/download'
        'nix-0.29.0.tar.gz::https://crates.io/api/v1/crates/nix/0.29.0/download'
        'nix-0.30.1.tar.gz::https://crates.io/api/v1/crates/nix/0.30.1/download'
        'nom-7.1.3.tar.gz::https://crates.io/api/v1/crates/nom/7.1.3/download'
        'ntapi-0.4.2.tar.gz::https://crates.io/api/v1/crates/ntapi/0.4.2/download'
        'num_enum-0.7.5.tar.gz::https://crates.io/api/v1/crates/num_enum/0.7.5/download'
        'num_enum_derive-0.7.5.tar.gz::https://crates.io/api/v1/crates/num_enum_derive/0.7.5/download'
        'objc2-core-foundation-0.3.2.tar.gz::https://crates.io/api/v1/crates/objc2-core-foundation/0.3.2/download'
        'objc2-io-kit-0.3.2.tar.gz::https://crates.io/api/v1/crates/objc2-io-kit/0.3.2/download'
        'once_cell-1.21.3.tar.gz::https://crates.io/api/v1/crates/once_cell/1.21.3/download'
        'ordered-multimap-0.7.3.tar.gz::https://crates.io/api/v1/crates/ordered-multimap/0.7.3/download'
        'ordered-stream-0.2.0.tar.gz::https://crates.io/api/v1/crates/ordered-stream/0.2.0/download'
        'parking-2.2.1.tar.gz::https://crates.io/api/v1/crates/parking/2.2.1/download'
        'pathdiff-0.2.3.tar.gz::https://crates.io/api/v1/crates/pathdiff/0.2.3/download'
        'pin-project-lite-0.2.16.tar.gz::https://crates.io/api/v1/crates/pin-project-lite/0.2.16/download'
        'pin-utils-0.1.0.tar.gz::https://crates.io/api/v1/crates/pin-utils/0.1.0/download'
        'pkg-config-0.3.32.tar.gz::https://crates.io/api/v1/crates/pkg-config/0.3.32/download'
        'prettyplease-0.2.37.tar.gz::https://crates.io/api/v1/crates/prettyplease/0.2.37/download'
        'proc-macro2-1.0.103.tar.gz::https://crates.io/api/v1/crates/proc-macro2/1.0.103/download'
        'proc-macro-crate-3.4.0.tar.gz::https://crates.io/api/v1/crates/proc-macro-crate/3.4.0/download'
        'quick-xml-0.36.2.tar.gz::https://crates.io/api/v1/crates/quick-xml/0.36.2/download'
        'quote-1.0.42.tar.gz::https://crates.io/api/v1/crates/quote/1.0.42/download'
        'r-efi-5.3.0.tar.gz::https://crates.io/api/v1/crates/r-efi/5.3.0/download'
        'regex-1.12.2.tar.gz::https://crates.io/api/v1/crates/regex/1.12.2/download'
        'regex-automata-0.4.13.tar.gz::https://crates.io/api/v1/crates/regex-automata/0.4.13/download'
        'regex-syntax-0.8.8.tar.gz::https://crates.io/api/v1/crates/regex-syntax/0.8.8/download'
        'rustc-hash-2.1.1.tar.gz::https://crates.io/api/v1/crates/rustc-hash/2.1.1/download'
        'rust-ini-0.21.3.tar.gz::https://crates.io/api/v1/crates/rust-ini/0.21.3/download'
        'rustix-1.1.2.tar.gz::https://crates.io/api/v1/crates/rustix/1.1.2/download'
        'rustversion-1.0.22.tar.gz::https://crates.io/api/v1/crates/rustversion/1.0.22/download'
        'ryu-1.0.21.tar.gz::https://crates.io/api/v1/crates/ryu/1.0.21/download'
        'serde-1.0.228.tar.gz::https://crates.io/api/v1/crates/serde/1.0.228/download'
        'serde_core-1.0.228.tar.gz::https://crates.io/api/v1/crates/serde_core/1.0.228/download'
        'serde_derive-1.0.228.tar.gz::https://crates.io/api/v1/crates/serde_derive/1.0.228/download'
        'serde_json-1.0.146.tar.gz::https://crates.io/api/v1/crates/serde_json/1.0.146/download'
        'serde_repr-0.1.20.tar.gz::https://crates.io/api/v1/crates/serde_repr/0.1.20/download'
        'serde_spanned-1.0.4.tar.gz::https://crates.io/api/v1/crates/serde_spanned/1.0.4/download'
        'sharded-slab-0.1.7.tar.gz::https://crates.io/api/v1/crates/sharded-slab/0.1.7/download'
        'shlex-1.3.0.tar.gz::https://crates.io/api/v1/crates/shlex/1.3.0/download'
        'signal-hook-registry-1.4.7.tar.gz::https://crates.io/api/v1/crates/signal-hook-registry/1.4.7/download'
        'slab-0.4.11.tar.gz::https://crates.io/api/v1/crates/slab/0.4.11/download'
        'smallvec-1.15.1.tar.gz::https://crates.io/api/v1/crates/smallvec/1.15.1/download'
        'socket2-0.6.1.tar.gz::https://crates.io/api/v1/crates/socket2/0.6.1/download'
        'speech-dispatcher-0.16.0.tar.gz::https://crates.io/api/v1/crates/speech-dispatcher/0.16.0/download'
        'speech-dispatcher-sys-0.7.0.tar.gz::https://crates.io/api/v1/crates/speech-dispatcher-sys/0.7.0/download'
        'static_assertions-1.1.0.tar.gz::https://crates.io/api/v1/crates/static_assertions/1.1.0/download'
        'strum-0.27.2.tar.gz::https://crates.io/api/v1/crates/strum/0.27.2/download'
        'strum_macros-0.27.2.tar.gz::https://crates.io/api/v1/crates/strum_macros/0.27.2/download'
        'syn-2.0.111.tar.gz::https://crates.io/api/v1/crates/syn/2.0.111/download'
        'sysinfo-0.37.2.tar.gz::https://crates.io/api/v1/crates/sysinfo/0.37.2/download'
        'system-deps-7.0.7.tar.gz::https://crates.io/api/v1/crates/system-deps/7.0.7/download'
        'target-lexicon-0.13.3.tar.gz::https://crates.io/api/v1/crates/target-lexicon/0.13.3/download'
        'tempfile-3.23.0.tar.gz::https://crates.io/api/v1/crates/tempfile/3.23.0/download'
        'thread_local-1.1.9.tar.gz::https://crates.io/api/v1/crates/thread_local/1.1.9/download'
        'tiny-keccak-2.0.2.tar.gz::https://crates.io/api/v1/crates/tiny-keccak/2.0.2/download'
        'tokio-1.48.0.tar.gz::https://crates.io/api/v1/crates/tokio/1.48.0/download'
        'tokio-macros-2.6.0.tar.gz::https://crates.io/api/v1/crates/tokio-macros/2.6.0/download'
        'tokio-stream-0.1.17.tar.gz::https://crates.io/api/v1/crates/tokio-stream/0.1.17/download'
        'tokio-util-0.7.17.tar.gz::https://crates.io/api/v1/crates/tokio-util/0.7.17/download'
        'toml-0.9.10+spec-1.1.0.tar.gz::https://crates.io/api/v1/crates/toml/0.9.10+spec-1.1.0/download'
        'toml_datetime-0.7.5+spec-1.1.0.tar.gz::https://crates.io/api/v1/crates/toml_datetime/0.7.5+spec-1.1.0/download'
        'toml_edit-0.23.10+spec-1.0.0.tar.gz::https://crates.io/api/v1/crates/toml_edit/0.23.10+spec-1.0.0/download'
        'toml_parser-1.0.6+spec-1.1.0.tar.gz::https://crates.io/api/v1/crates/toml_parser/1.0.6+spec-1.1.0/download'
        'toml_writer-1.0.6+spec-1.1.0.tar.gz::https://crates.io/api/v1/crates/toml_writer/1.0.6+spec-1.1.0/download'
        'tracing-0.1.44.tar.gz::https://crates.io/api/v1/crates/tracing/0.1.44/download'
        'tracing-attributes-0.1.31.tar.gz::https://crates.io/api/v1/crates/tracing-attributes/0.1.31/download'
        'tracing-core-0.1.36.tar.gz::https://crates.io/api/v1/crates/tracing-core/0.1.36/download'
        'tracing-subscriber-0.3.22.tar.gz::https://crates.io/api/v1/crates/tracing-subscriber/0.3.22/download'
        'udev-0.9.3.tar.gz::https://crates.io/api/v1/crates/udev/0.9.3/download'
        'uds_windows-1.1.0.tar.gz::https://crates.io/api/v1/crates/uds_windows/1.1.0/download'
        'unicode-ident-1.0.22.tar.gz::https://crates.io/api/v1/crates/unicode-ident/1.0.22/download'
        'uuid-1.19.0.tar.gz::https://crates.io/api/v1/crates/uuid/1.19.0/download'
        'version-compare-0.2.1.tar.gz::https://crates.io/api/v1/crates/version-compare/0.2.1/download'
        'wasi-0.11.1+wasi-snapshot-preview1.tar.gz::https://crates.io/api/v1/crates/wasi/0.11.1+wasi-snapshot-preview1/download'
        'wasip2-1.0.1+wasi-0.2.4.tar.gz::https://crates.io/api/v1/crates/wasip2/1.0.1+wasi-0.2.4/download'
        'wasm-bindgen-0.2.106.tar.gz::https://crates.io/api/v1/crates/wasm-bindgen/0.2.106/download'
        'wasm-bindgen-macro-0.2.106.tar.gz::https://crates.io/api/v1/crates/wasm-bindgen-macro/0.2.106/download'
        'wasm-bindgen-macro-support-0.2.106.tar.gz::https://crates.io/api/v1/crates/wasm-bindgen-macro-support/0.2.106/download'
        'wasm-bindgen-shared-0.2.106.tar.gz::https://crates.io/api/v1/crates/wasm-bindgen-shared/0.2.106/download'
        'winapi-0.3.9.tar.gz::https://crates.io/api/v1/crates/winapi/0.3.9/download'
        'winapi-i686-pc-windows-gnu-0.4.0.tar.gz::https://crates.io/api/v1/crates/winapi-i686-pc-windows-gnu/0.4.0/download'
        'winapi-x86_64-pc-windows-gnu-0.4.0.tar.gz::https://crates.io/api/v1/crates/winapi-x86_64-pc-windows-gnu/0.4.0/download'
        'windows-0.61.3.tar.gz::https://crates.io/api/v1/crates/windows/0.61.3/download'
        'windows_aarch64_gnullvm-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_gnullvm/0.48.5/download'
        'windows_aarch64_gnullvm-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_gnullvm/0.53.1/download'
        'windows_aarch64_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_msvc/0.48.5/download'
        'windows_aarch64_msvc-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_msvc/0.53.1/download'
        'windows-collections-0.2.0.tar.gz::https://crates.io/api/v1/crates/windows-collections/0.2.0/download'
        'windows-core-0.61.2.tar.gz::https://crates.io/api/v1/crates/windows-core/0.61.2/download'
        'windows-future-0.2.1.tar.gz::https://crates.io/api/v1/crates/windows-future/0.2.1/download'
        'windows_i686_gnu-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnu/0.48.5/download'
        'windows_i686_gnu-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnu/0.53.1/download'
        'windows_i686_gnullvm-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnullvm/0.53.1/download'
        'windows_i686_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_i686_msvc/0.48.5/download'
        'windows_i686_msvc-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_i686_msvc/0.53.1/download'
        'windows-implement-0.60.2.tar.gz::https://crates.io/api/v1/crates/windows-implement/0.60.2/download'
        'windows-interface-0.59.3.tar.gz::https://crates.io/api/v1/crates/windows-interface/0.59.3/download'
        'windows-link-0.1.3.tar.gz::https://crates.io/api/v1/crates/windows-link/0.1.3/download'
        'windows-link-0.2.1.tar.gz::https://crates.io/api/v1/crates/windows-link/0.2.1/download'
        'windows-numerics-0.2.0.tar.gz::https://crates.io/api/v1/crates/windows-numerics/0.2.0/download'
        'windows-result-0.3.4.tar.gz::https://crates.io/api/v1/crates/windows-result/0.3.4/download'
        'windows-strings-0.4.2.tar.gz::https://crates.io/api/v1/crates/windows-strings/0.4.2/download'
        'windows-sys-0.48.0.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.48.0/download'
        'windows-sys-0.60.2.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.60.2/download'
        'windows-sys-0.61.2.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.61.2/download'
        'windows-targets-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows-targets/0.48.5/download'
        'windows-targets-0.53.5.tar.gz::https://crates.io/api/v1/crates/windows-targets/0.53.5/download'
        'windows-threading-0.1.0.tar.gz::https://crates.io/api/v1/crates/windows-threading/0.1.0/download'
        'windows_x86_64_gnu-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnu/0.48.5/download'
        'windows_x86_64_gnu-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnu/0.53.1/download'
        'windows_x86_64_gnullvm-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnullvm/0.48.5/download'
        'windows_x86_64_gnullvm-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnullvm/0.53.1/download'
        'windows_x86_64_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_msvc/0.48.5/download'
        'windows_x86_64_msvc-0.53.1.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_msvc/0.53.1/download'
        'winnow-0.7.14.tar.gz::https://crates.io/api/v1/crates/winnow/0.7.14/download'
        'wit-bindgen-0.46.0.tar.gz::https://crates.io/api/v1/crates/wit-bindgen/0.46.0/download'
        'xdg-3.0.0.tar.gz::https://crates.io/api/v1/crates/xdg/3.0.0/download'
        'zbus-5.12.0.tar.gz::https://crates.io/api/v1/crates/zbus/5.12.0/download'
        'zbus_macros-5.12.0.tar.gz::https://crates.io/api/v1/crates/zbus_macros/5.12.0/download'
        'zbus_names-4.2.0.tar.gz::https://crates.io/api/v1/crates/zbus_names/4.2.0/download'
        'zbus_xml-5.0.2.tar.gz::https://crates.io/api/v1/crates/zbus_xml/5.0.2/download'
        'zvariant-5.8.0.tar.gz::https://crates.io/api/v1/crates/zvariant/5.8.0/download'
        'zvariant_derive-5.8.0.tar.gz::https://crates.io/api/v1/crates/zvariant_derive/5.8.0/download'
        'zvariant_utils-3.2.1.tar.gz::https://crates.io/api/v1/crates/zvariant_utils/3.2.1/download')
sha256sums=('34ffb754d4ed440c0bb0af71444f93bac2f62d31c92499f7f6c990fd0d22acf3'
            'ddd31a130427c27518df266943a5308ed92d4b226cc639f5a8f1002816174301'
            '5192cca8006f1fd4f7237516f40fa183bb07f8fbdfedaa0036de5ea9b0b45e78'
            'a23eb6b1614318a8071c9b2521f36b424b2c83db5eb3a0fead4a6c0809af6e61'
            '435a87a52755b8f27fcf321ac4f04b2802e337c8c4872923137471ec39c37532'
            '3b43422f69d8ff38f95f1b2bb76517c91589a924d1559a0e935d7c8ce0274c11'
            '9035ad2d096bed7955a320ee7e2230574d28fd3c3a0f186cbea1ff3c7eed5dbb'
            'c08606f8c3cbf4ce6ec8e28fb0014a2c086708fe954eaa885384a6165172e7e8'
            '993776b509cfb49c750f11b8f07a46fa23e0a1386ffc01fb1e7d343efc387895'
            '812e12b5285cc515a9c72a5c1d3b6d46a19dac5acfef5265968c166106e31dd3'
            '5dd9dc738b7a8311c7ade152424974d8115f2cdad61e8dab8dac9f2362298510'
            'b35204fbdc0b3f4446b89fc1ac2cf84a8a68971995d0bf2e925ec7cd960f9cb3'
            '6fac387a98bb7c37292057cffc56d62ecb629900026402633ae9160df93a8766'
            '613afe47fcd5fac7ccf1db93babcb082c5994d996f20b8b159f2ad1658eb5724'
            '21be0e1ce6cdb2ee7fff840f922fb04ead349e5cfb1e750b769132d44ce04720'
            '9330f8b2ff13f34540b44e946ef35111825727b38d33286ef986142615121801'
            '0b023947811758c97c59bf9d1c188fd619ad4718dcaa767947df1cadb14f39f4'
            'c9e340e012a1bf4935f5282ed1436d1489548e8f72308207ea5df0e23d2d03f8'
            'd76b5d13eaa18c901fd2f7fca939fefe3a0727a953561fefdf3b2922b8569d00'
            '2a0b5487afeab2deb2ff4e03a807ad1a03ac532ff5a2cee5d86884440c7f7671'
            'a1d728cc89cf3aee9ff92b05e62b19ee65a02b5702cff7d5a377e32c6ae29d8d'
            '4ca0197aee26d1ae37445ee532fefce43251d24cc7c166799f4d46817f1d3973'
            'b30fa8254caad766fc03cb0ccae691e14bf3bd72bfff27f72802ce729551b3d6'
            '87e00182fe74b066627d63b85fd550ac2998d4b0bd86bfed477a0ae4c7c71359'
            'f9d839f2a20b0aee515dc581a6172f2321f96cab76c1a38a4c584a194955390e'
            'd0a5c400df2834b80a4c3327b3aad3a4c4cd4de0629063962b03235697506a28'
            '460fbee9c2c2f33933d720630a6a0bac33ba7053db5344fac858d4b8952d77d5'
            '442039f5147480ba31067cb00ada1adae6892028e40e45fc5de7b7df6dcc1b5f'
            '48c757948c5ede0e46177b7add2e67155f70e33c07fea8284df6576da70b3719'
            '66b7e2430c6dff6a955451e2cfc438f09cea1965a9d6f87f7e3b90decc014099'
            '1027f7680c853e056ebcec683615fb6fbbc07dbaa13b4d5d9442b146ded4ecef'
            '67c78a4d8fdf9953a5c9d458f9efe940fd97a0cab0941c075a813ac594733827'
            '877a4ace8713b0bcf2a4e7eec82529c029f1d0619886d18145fea96c3ffe5c0f'
            '39cab71617ae0d63f51a36d69f866391735b51691dbda63cf6f96d042b63efeb'
            'e13b66accf52311f30a0db42147dadea9850cb48cd070028831ae5f5d4b856ab'
            '8be9f3dfaaffdae2972880079a491a1a8bb7cbed0b8dd7a347f668b4150a3b93'
            '37909eebbb50d72f9059c3b6d82c0463f2ff062c9e95845c43a6c9c0355411be'
            '2dff15bf788c671c1934e366d07e30c1814a8ef514e1af724a602e8a2fbe1b10'
            '05f29059c0c2090612e8d742178b0580d2dc940c837851ad723096f87af6663e'
            '1e28d1d997f585e54aebc3f97d39e72338912123a67330d723fdbb564d646c9f'
            '9e5c1b78ca4aae1ac06c48a526a655760685149f0d465d21f37abfe57ce075c6'
            'f78e10609fe0e0b3f4157ffab1876319b5b0db102a2c60dc4626306dc46b44ad'
            '162ee34ebcb7c64a8abebc059ce0fee27c2262618d7b60ed8faf72fef13c3650'
            'e575fab7d1e0dcb8d0c7bcf9a63ee213816ab51902e6d244a95819acacf1d4f7'
            'f90f7dce0722e95104fcb095585910c0977252f286e354b5e3bd38902cd99988'
            '9fa08315bb612088cc391249efdc3bc77536f16c91f6cf495e6fbe85b20a4a81'
            '335ff9f135e4384c8150d6f27c6daed433577f86b4750418338c01a1a2528592'
            '899def5c37c4fd7b2664648c28120ecec138e4d395b459e5ca34f9cce2dd77fd'
            'c5ff48bf600c68b476e61dc6b7c762f2f4eb91deef66583ba8bb815c30b5811a'
            '0071fe88dba8e40086c8ff9bbb62622999f49628344b1d1bf490a48a29d80f22'
            '16de123c2e6c90ce3b573b7330de19be649080ec612033d397d72da265f1bd8b'
            'cf59b675301228a696fe01c3073974643365080a76cc3ed5bc2cbc466ad87f17'
            '2d95e1a3a19ae464a7286e14af9a90683c64d70c02532d88d87ce95056af3e6c'
            '0cc23270f6e1808e30a928bdc84dea0b9b4136a8bc82338574f23baf47bbd280'
            '2dca35da0d19a18f4575f3cb99fe1c9e029a2941af5662f326f738a21edaf294'
            'e5274423e17b7c9fc20b6e7e208532f9b19825d82dfd615708b70edd83df41f1'
            '841d1cc9bed7f9236f321df977030373f4a4163ae1a7dbfe1a51a2c1a51d9100'
            '2304e00983f87ffb38b55b444b5e3b60a884b5d30c0fca7d82fe33449bbe55ea'
            'd231dfb89cfffdbc30e7fc41579ed6066ad03abda9e567ccafae602b97ec5024'
            '7f24254aa9a54b5c858eaee2f5bccdb46aaf0e486a595ed5fd8f86ba55232a70'
            '0ad4bb2b565bca0645f4d68c5c9af97fba094e9791da685bf83cb5f3ce74acf2'
            'f37dccff2791ab604f9babef0ba14fbe0be30bd368dc541e2b08d07c8aa908f3'
            'e05c02b5e89bff3b946cedeca278abc628fe811e604f027c45a8aa3cf793d0eb'
            'b7e8c4821c88b95582ca69234a1d233f87e44182c42e121f740efb0bec1142e0'
            '7b91b2248b0eaf0a576ef5e60b7f2107a749e705a876bc0b9fe952ac8d83a724'
            'eae7b9aee968036d54dce06cebaefd919e4472e753296daccd6d344e3e2df0c2'
            '413ee7dfc52ee1a4949ceeb7dbc8a33f2d6c088194d9f922fb8318faf1f01186'
            '2b192c782037fadd9cfa75548310488aabdbf3d2da73885b31bd0abd03351285'
            '7ee5b5339afb4c41626dde77b7a611bd4f2c202b897852b4bcf5d03eddc61010'
            '464a3709c7f55f1f721e5389aa6ea4e3bc6aba669353300af094b29ffbdde1d8'
            'bbd2bcb4c963f2ddae06a2efc7e9f3591312473c50c6685e1f298068316e66fe'
            '37c93d8daa9d8a012fd8ab92f088405fb202ea0b6ab73ee2482ae66af4f42091'
            'd7c4b02199fee7c5d21a5ae7d8cfa79a6ef5bb2fc834d6e9058e89c825efdc55'
            '3c8469b4a23b962c1396b9b451dda50ef5b283e8dd309d69033475fa9b334324'
            'df1d3c3b53da64cf5760482273a98e575c651a67eec7f77df96b5b642de8f039'
            '5e5032e24019045c762d3c0f28f5b6b8bbf38563a65908389bf7978758920897'
            'd1525a2a28c7f4fa0fc98bb91ae755d1e2d1505079e05539e35bc876b5d65ae9'
            'f52b00d39961fc5b2736ea853c9cc86238e165017a493d1d5c8eac6bdc4cc273'
            '488016bfae457b036d996092f6cb448677611ce4449e970ceaf42695203f218a'
            '68354c5c6bd36d73ff3feceb05efa59b6acb7626617f4962be322a825e61f79a'
            'a69bcab0ad47271a0234d9422b131806bf3968021e5dc9328caf2d4cd58557fc'
            '71e2746dc3a24dd78b3cfcb7be93368c6de9963d30f43a6a73998a9cf4b17b46'
            '74523f3a35e05aba87a1d978330aef40f67b0304ac79c1c00b294c9830543db6'
            'd273983c5a657a70a3e8f2a01329822f3b8c8172b73826411a55751e404a0a4a'
            'c70f219e21142367c70c0b30c6a9e3a14d55b4d12a204d897fbec83a0363f081'
            'b1207a7e20ad57b847bbddc6776b968420d38292bbfe2089accff5e19e82454c'
            'ff32365de1b6743cb203b710788263c44a03de03802daf96092f2da4fe6ba4d7'
            '2a180dd8642fa45cdb7dd721cd4c11b1cadd4929ce112ebd8b9f5803cc79d536'
            '33fafba39597d6dc1fb709123dfa8289d39406734be322956a69f0931c73bb15'
            '42f5e15c9953c5e4ccceeb2e7382a716482c34515315f7b03532b8b4e8393d2d'
            '49203cdcae0030493bad186b28da2fa25645fa276a51b6fec8010d281e02ef79'
            '9aa2b01e1d916879f73a53d01d1d6cee68adbb31d6d9177a8cfce093cced1d50'
            'f38d5652c16fde515bb1ecef450ab0f6a219d619a7274976324d5e377f7dceba'
            'df94ce210e5bc13cb6651479fa48d14f601d9858cfe0467f43ae157023b938d3'
            '3b3cff922bd51709b605d9ead9aa71031d81447142d828eb4a6eba76fe619f9b'
            '8b870d8c151b6f2fb93e84a13146138f05d02ed11c7e7c54f8826aaaf7c9f184'
            '7edddbd0b52d732b21ad9a5fab5c704c14cd949e5e9a1ec5929a24fded1b904c'
            '479ca8adacdd7ce8f1fb39ce9ecccbfe93a3f1344b3d0d97f20bc0196208f62b'
            '5ee95bc4ef87b8d5ba32e8b7714ccc834865276eab0aed5c9958d00ec45f49e8'
            '219cb19e96be00ab2e37d6e299658a0cfa83e52429179969b0f0121b4ac46983'
            'f7649a7b4df05aed9ea7ec6f628c67c9953a43869b8bc50929569b2999d443fe'
            'a338cc41d27e6cc6dce6cefc13a0729dfbb81c262b1f519331575dd80ef3067f'
            '69cdb34c158ceb288df11e18b4bd39de994f6657d83847bdffdbd7f346754b0f'
            '843bc0191f75f3e22651ae5f1e72939ab2f72a4bc30fa80a066bd66edefc24d4'
            '5276caf25ac86c8d810222b3dbb938e512c55c6831a10f3e6ed1c93b84041f1c'
            '7a2d987857b319362043e95f5353c0535c1f58eec5336fdfcf626430af7def58'
            '357703d41365b4b27c590e3ed91eabb1b663f07c4c084095e60cbed4362dff0d'
            '796e8d2b6696392a43bea58116b667fb4c29727dc5abd27d6acf338bb4f688c7'
            'cd15f8a2c5551a84d56efdc1cd049089e409ac19a3072d5037a17fd70719ff3e'
            'b39cdef0fa800fc44525c84ccb54a029961a8215f9619753635a9c0d2538d46d'
            '62049b2877bf12821e8f9ad256ee38fdc31db7387ec2d3b3f403024de2034aea'
            '9a8e94ea7f378bd32cbbd37198a4a91436180c5bb472411e48b5ec2e2124ae9e'
            '41d385c7d4ca58e59fc732af25c3983b67ac852c1a25000afe1175de458b67ad'
            'd540f220d3187173da220f885ab66608367b6574e925011a9353e4badda91d79'
            '217ca874ae0207aac254aa02c957ded05585a90892cc8d87f9e5fa49669dadd8'
            '175ee3e80ae9982737ca543e96133087cbd9a485eecc3bc4de9c1a37b47ea59c'
            'f8bbf91e5a4d6315eee45e704372590b30e260ee83af6639d64557f51b067776'
            'f40ca3c46823713e0d4209592e8d6e826aa57e928f09752619fc696c499637f6'
            '0fda2ff0d084019ba4d7c6f371c95d8fd75ce3524c3cb8fb653a3023f6323e64'
            '7664a098b8e616bdfcc2dc0e9ac44eb231eedf41db4e9fe95d8d32ec728dedad'
            '7a2ae44ef20feb57a68b23d846850f861394c2e02dc425a50098ae8c90267589'
            '67b1b7a3b5fe4f1376887184045fcf45c69e92af734b7aaddc05fb777b6fbd03'
            '17129e116933cf371d018bb80ae557e889637989d8638274fb25622827b03881'
            '5727d53c474ba5ada07784ad7d203cf896a74854cfee0eb32376b00759eb2972'
            '6c3e8acdf2b1f4bb13f1813b40b52f3edf4cc94d8a55fe713a584f672a10388d'
            'a2eb9349b6444b326872e140eb1cf5e7c522154d69e7a0ffb0fb81c06b37543f'
            'af23d6f6c1a224baef9d3f61e287d2761385a5b88fdab4eb4c6f11aeb54c4bcf'
            '7695ce3845ea4b33927c055a39dc438a45b059f7c1b3d91d38d10355fb8cbca7'
            '390cc9a294ab71bdb1aa2e99d13be9c753cd2d7bd6560c77118597410c4d2e87'
            '16607d5caffd1c07ce073528f9ed972d88db15dd44023fa57142963be3feb11f'
            '48c8f33736f986f16d69b6cb8b03f55ddcad5c41acc4ccc39dd88e84aa805e7f'
            'df7f62577c25e07834649fc3b39fafdc597c0a3527dc1c60129201ccfcbaa50c'
            '2d31c77bdf42a745371d260a26ca7163f1e0924b64afa0b688e61b5a9fa02f16'
            'f60246a4944f24f6e018aa17cdeffb7818b76356965d03b07d6a9886e8962185'
            '2c9d3793400a45f954c52e73d068316d76b6f4e36977e3fcebb13a2721e80237'
            'ff360e02eab121e0bc37a2d3b4d4dc622e6eda3a8e5253d5435ecf5bd4c68408'
            'af407857209536a95c8e56f8231ef2c2e2aff839b22e07a1ffcbc617e9db9fa5'
            'eca58d7bba4a75707817a2c44174253f9236b2d5fbd055602e9d5c07c139a047'
            '2efa149fe76073d6e8fd97ef4f4eca7b67f599660115591483572e406e165594'
            '0825052159284a1a8b4d6c0c86cbc801f2da5afd2b225fa548c72f2e74002f48'
            '92e1cfed4a3038bc5a127e35a2d360f145e1f4b971b551a2ba5fd7aedf7e1347'
            '84c8b9f757e028cee9fa244aea147aab2a9ec09d5325a9b01e0a49730c2b5269'
            'a3198b4b0a8e11f09dd03e133c0280504d0801269e9afa46362ffde1cbeebf44'
            'ab16f14aed21ee8bfd8ec22513f7287cd4a91aa92e44edfe2c17ddd004e92607'
            '63e71662fa4b2a2c3a26f570f037eb95bb1f85397f3cd8076caed2f026a6d100'
            '7490cfa5ec963746568740651ac6781f701c9c5ea257c58e057f3ba8cf69e8da'
            'db97caf9d906fbde555dd62fa95ddba9eecfd14cb388e4f491a66d74cd5fb79a'
            '2f30143827ddab0d256fd843b7a66d164e9f271cfa0dde49142c5ca0ca291f1e'
            'af4e37e9ea4401fc841ff54b9ddfc9be1079b1e89434c1a6a865dd68980f7e9f'
            '89daebc3e6fd160ac4aa9fc8b3bf71e1f74fbf92367ae71fb83a037e8bf164b9'
            '9312f7c4f6ff9069b165498234ce8be658059c6728633667c526e27dc2cf1df5'
            'e2e054861b4bd027cd373e18e8d8d8e6548085000e41290d95ce0c373a654b4a'
            '03c2856837ef78f57382f06b2b8563a2f512f7185d732608fd9176cb3b8edf0e'
            'ccf3ec651a847eb01de73ccad15eb7d99f80485de043efb2f370cd654f4ea44b'
            '0562428422c63773dad2c345a1882263bbf4d65cf3f42e90921f787ef5ad58e7'
            '0d759f433fa64a2d763d1340820e46e111a7a5ab75f993d1852d70b03dbb80fd'
            '48cb0d2638f8baedbc542ed444afc0644a29166f1595371af4fecf8ce1e7eeb3'
            'cefb59d5cd5f92d9dcf80e4683949f15ca4b511f4ac0a6e14d4e1ac60c6ecd40'
            'cbc538057e648b67f72a982e708d485b2efa771e1ac05fec311f9f63e5800db4'
            '5c839a674fcd7a98952e593242ea400abe93992746761e38641405d28b00f419'
            'ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6'
            '712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f'
            '9babd3a767a4c1aef6900409f85f5d53ce2544ccdfaa86dad48c91782c6d6893'
            '2b38e32f0abccf9987a4e3079dfb67dcd799fb61361e53e2882c3cbaf0d905d8'
            'a9d8416fa8b42f5c947f8482c43e7d89e73a173cead56d044f6a56104a6d1b53'
            'dc35310971f3b2dbbf3f0690a219f40e2d9afcf64f9ab7cc1be722937c26b4bc'
            'b9d782e804c2f632e395708e99a94275910eb9100b2114651e04744e9b125006'
            '3beeceb5e5cfd9eb1d76b381630e82c4241ccd0d27f1a39ed41b2760b255c5e8'
            'c0fdd3ddb90610c7638aa2b3a3ab2904fb9e5cdbecc643ddb3647212781c4ae3'
            'fc6a41e98427b19fe4b73c550f060b59fa592d7d686537eebf9385621bfbad8e'
            'a75915e7def60c94dcef72200b9a8e58e5091744960da64ec734a6c6e9b3743e'
            '960e6da069d81e09becb0ca57a65220ddff016ff2d6af6a223cf372a506593a3'
            'fa7359d10048f68ab8b09fa71c3daccfb0e9b559aed648a8f95469c27057180c'
            '8f55c233f70c4b27f66c523580f78f1004e8b5a8b659e05a4eb49d4166cca406'
            '1e7ac75179f18232fe9c285163565a57ef8d3c89254a30685b57d83a38d326c2'
            '053e2e040ab57b9dc951b72c264860db7eb3b0200ba345b4e4c3b14f67855ddf'
            '3f316c4a2570ba26bbec722032c4099d8c8bc095efccdc15688708623367e358'
            '5e6ad25900d524eaabdbbb96d20b4311e1e7ae1699af4fb28c17ae66c80d798a'
            'f0805222e57f7521d6a62e36fa9163bc891acd422f971defe97d64e70d0a4fe5'
            '9150af68066c4c5c07ddc0ce30421554771e528bde427614c61038bc2c92c2b1'
            '56f42bd332cc6c8eac5af113fc0c1fd6a8fd2aa08a0119358686e5160d0586c6'
            '56e6c93f3a0c3b36176cb1327a4958a0353d5d166c2a35cb268ace15e91d3b57'
            '677d2418bec65e3338edb076e806bc1ec15693c5d0104683f2efe857f61056a9'
            'f2f500e4d28234f72040990ec9d39e3a6b950f9f22d3dba18416c35882612bcb'
            'ae137229bcbd6cdf0f7b80a31df61766145077ddf49416a728b02cb3921ff3fc'
            '9a2fa6e2155d7247be68c096456083145c183cbbbc2764150dda45a87197940c'
            '4945f9f551b88e0d65f3db0bc25c33b8acea4d9e41163edf90dcd0b19f9069f3'
            'b66463ad2e0ea3bbf808b7f1d371311c80e115c0b71d60efc142cafbcfb057a6'
            '53d40abd2583d23e4718fddf1ebec84dbff8381c07cae67ff7768bbf19c6718e'
            '9c3842cdd74a865a8066ab39c8a7a473c0778a3f29370b5fd6b4b9aa7df4a499'
            '0b7b52767868a23d5bab768e390dc5f5c55825b6d30b86c844ff2dc7414044cc'
            '0ffa179e2d07eee8ad8f57493436566c7cc30ac536a3379fdf008f47f6bb7ae1'
            'ed94fce61571a4006852b7389a063ab983c02eb1bb37b47f8272ce92d06d9538'
            'd6bbff5f0aada427a1e5a6da5f1f98158182f26556f345ac9e04d36d0ebed650'
            '5a5364e9d77fcdeeaa6062ced926ee3381faa2ee02d3eb83a5c27a8825540829'
            'f17a85883d4e6d00e8a97c586de764dabcc06133f7f1d55dce5cdc070ad7fe59'
            '2fb433233f2df9344722454bc7e96465c9d03bff9d77c248f9e7523fe79585b5'
            'b622b18155f7a93d1cd2dc8c01d2d6a44e08fb9ebb7b3f9e6ed101488bad6c91'
            '1cdb94821ca8a87ca9c298b5d1cbd80e2a8b67115d99f6e4551ac49e42b6a314'
            '7be68e64bf6ce8db94f63e72f0c7eb9a60d733f7e0499e628dfab0f84d6bcb97'
            '589e9a02bfafb9754bb2340a9e3b38f389772684c63d9637e76b1870377bec29'
            '2be61892e4f2b1772727be11630a62664a1826b62efa43a6fe7449521cb8744c'
            'da58575a1b2b20766513b1ec59d8e2e68db2745379f961f86650655e862d2006'
            'c6949d142f89f6916deca2232cf26a8afacf2b9fdc35ce766105e104478be599')
replaces=('ds-inhibit')

prepare() {
	export RUSTUP_TOOLCHAIN=stable
	cd "$srcdir"

	holo-vendor-rust-sources -o vendored -L "$pkgname-$pkgver/Cargo.lock" *.tar.gz

	cd "$pkgname-$pkgver"

	mkdir -pv .cargo

	cat << EOF >> .cargo/config.toml
	[source."crates-io"]
	replace-with = "vendored-sources"

	[source.vendored-sources]
	directory = "${srcdir}/vendored"
EOF
}

build() {
	cd "$pkgname-$pkgver"
	make build
}

package () {
	cd "$pkgname-$pkgver"
	make install DESTDIR="$pkgdir"

	install -d -m0755 "$pkgdir/usr/lib/systemd/user/gamescope-session.service.wants/"
	ln -s ../steamos-manager.service "$pkgdir/usr/lib/systemd/user/gamescope-session.service.wants/"

	install -d -m0755 "$pkgdir/usr/lib/systemd/user/graphical-session-pre.target.wants/"
	ln -s ../steamos-manager-session-cleanup.service "$pkgdir/usr/lib/systemd/user/graphical-session-pre.target.wants/"
}

check() {
	cd "$pkgname-$pkgver"
	dbus-run-session make test
}
