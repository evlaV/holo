# Maintainer: Vicki Pfau <vi@endrift.com>
# Maintainer: Jeremy Whiting <jeremy.whiting@collabora.com>

pkgname=steamos-manager
_srctag=v25.9.0
pkgver=${_srctag##v}
pkgrel=2
pkgdesc='SteamOS Manager daemon for running various system management tasks'
arch=('x86_64')
url='https://store.steampowered.com/steamos/'
license=('MIT')
depends=('dbus'
         'steamos-networking-tools'  # For steamos-wifi-set-backend
         'systemd'
         'wireless_tools' # For iwconfig
         'gsettings-desktop-schemas')
optdepends=('jupiter-hw-support: jupiter support'  # Needed for jupiter-get-als-gain, jupiter-biosupdate, steamos-format-device, steamos-trim-devices
            'jupiter-dock-updater-bin: jupiter dock updater'  # Needed for jupiter-dock-updater
            'orca: Screen reader support'
            'plasma-remotecontrollers: CEC wake support'
            'steamos-customizations-jupiter: jupiter support'  # Needed for steamos-factory-reset-config
            'steamos-log-submitter: ftrace logging'
            'wakehook: CEC wake support')
makedepends=('cargo'
             'clang'  # For the speech-dispatcher-sys crate
             'git'
             'holo-rust-packaging-tools'
             'speech-dispatcher')  # For the speech-dispatcher-sys crate
source=("$pkgname-$pkgver::git+https://github.com/evlav/$pkgname.git#tag=${_srctag}"
        'addr2line-0.24.2.tar.gz::https://crates.io/api/v1/crates/addr2line/0.24.2/download'
        'adler2-2.0.1.tar.gz::https://crates.io/api/v1/crates/adler2/2.0.1/download'
        'aho-corasick-1.1.3.tar.gz::https://crates.io/api/v1/crates/aho-corasick/1.1.3/download'
        'anstyle-1.0.11.tar.gz::https://crates.io/api/v1/crates/anstyle/1.0.11/download'
        'anyhow-1.0.98.tar.gz::https://crates.io/api/v1/crates/anyhow/1.0.98/download'
        'async-broadcast-0.7.2.tar.gz::https://crates.io/api/v1/crates/async-broadcast/0.7.2/download'
        'async-recursion-1.1.1.tar.gz::https://crates.io/api/v1/crates/async-recursion/1.1.1/download'
        'async-trait-0.1.88.tar.gz::https://crates.io/api/v1/crates/async-trait/0.1.88/download'
        'autocfg-1.5.0.tar.gz::https://crates.io/api/v1/crates/autocfg/1.5.0/download'
        'backtrace-0.3.75.tar.gz::https://crates.io/api/v1/crates/backtrace/0.3.75/download'
        'bindgen-0.72.0.tar.gz::https://crates.io/api/v1/crates/bindgen/0.72.0/download'
        'bitflags-2.9.1.tar.gz::https://crates.io/api/v1/crates/bitflags/2.9.1/download'
        'bytes-1.10.1.tar.gz::https://crates.io/api/v1/crates/bytes/1.10.1/download'
        'cexpr-0.6.0.tar.gz::https://crates.io/api/v1/crates/cexpr/0.6.0/download'
        'cfg_aliases-0.2.1.tar.gz::https://crates.io/api/v1/crates/cfg_aliases/0.2.1/download'
        'cfg-expr-0.18.0.tar.gz::https://crates.io/api/v1/crates/cfg-expr/0.18.0/download'
        'cfg-if-1.0.1.tar.gz::https://crates.io/api/v1/crates/cfg-if/1.0.1/download'
        'clang-sys-1.8.1.tar.gz::https://crates.io/api/v1/crates/clang-sys/1.8.1/download'
        'clap-4.5.40.tar.gz::https://crates.io/api/v1/crates/clap/4.5.40/download'
        'clap_builder-4.5.40.tar.gz::https://crates.io/api/v1/crates/clap_builder/4.5.40/download'
        'clap_derive-4.5.40.tar.gz::https://crates.io/api/v1/crates/clap_derive/4.5.40/download'
        'clap_lex-0.7.5.tar.gz::https://crates.io/api/v1/crates/clap_lex/0.7.5/download'
        'concurrent-queue-2.5.0.tar.gz::https://crates.io/api/v1/crates/concurrent-queue/2.5.0/download'
        'config-0.15.11.tar.gz::https://crates.io/api/v1/crates/config/0.15.11/download'
        'const-random-0.1.18.tar.gz::https://crates.io/api/v1/crates/const-random/0.1.18/download'
        'const-random-macro-0.1.16.tar.gz::https://crates.io/api/v1/crates/const-random-macro/0.1.16/download'
        'crossbeam-utils-0.8.21.tar.gz::https://crates.io/api/v1/crates/crossbeam-utils/0.8.21/download'
        'crunchy-0.2.3.tar.gz::https://crates.io/api/v1/crates/crunchy/0.2.3/download'
        'dlv-list-0.5.2.tar.gz::https://crates.io/api/v1/crates/dlv-list/0.5.2/download'
        'either-1.15.0.tar.gz::https://crates.io/api/v1/crates/either/1.15.0/download'
        'endi-1.1.0.tar.gz::https://crates.io/api/v1/crates/endi/1.1.0/download'
        'enumflags2-0.7.12.tar.gz::https://crates.io/api/v1/crates/enumflags2/0.7.12/download'
        'enumflags2_derive-0.7.12.tar.gz::https://crates.io/api/v1/crates/enumflags2_derive/0.7.12/download'
        'equivalent-1.0.2.tar.gz::https://crates.io/api/v1/crates/equivalent/1.0.2/download'
        'errno-0.3.12.tar.gz::https://crates.io/api/v1/crates/errno/0.3.12/download'
        'event-listener-5.4.0.tar.gz::https://crates.io/api/v1/crates/event-listener/5.4.0/download'
        'event-listener-strategy-0.5.4.tar.gz::https://crates.io/api/v1/crates/event-listener-strategy/0.5.4/download'
        'fastrand-2.3.0.tar.gz::https://crates.io/api/v1/crates/fastrand/2.3.0/download'
        'futures-channel-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-channel/0.3.31/download'
        'futures-core-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-core/0.3.31/download'
        'futures-executor-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-executor/0.3.31/download'
        'futures-io-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-io/0.3.31/download'
        'futures-lite-2.6.0.tar.gz::https://crates.io/api/v1/crates/futures-lite/2.6.0/download'
        'futures-macro-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-macro/0.3.31/download'
        'futures-sink-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-sink/0.3.31/download'
        'futures-task-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-task/0.3.31/download'
        'futures-util-0.3.31.tar.gz::https://crates.io/api/v1/crates/futures-util/0.3.31/download'
        'getrandom-0.2.16.tar.gz::https://crates.io/api/v1/crates/getrandom/0.2.16/download'
        'getrandom-0.3.3.tar.gz::https://crates.io/api/v1/crates/getrandom/0.3.3/download'
        'gimli-0.31.1.tar.gz::https://crates.io/api/v1/crates/gimli/0.31.1/download'
        'gio-0.20.11.tar.gz::https://crates.io/api/v1/crates/gio/0.20.11/download'
        'gio-sys-0.20.10.tar.gz::https://crates.io/api/v1/crates/gio-sys/0.20.10/download'
        'glib-0.20.10.tar.gz::https://crates.io/api/v1/crates/glib/0.20.10/download'
        'glib-macros-0.20.10.tar.gz::https://crates.io/api/v1/crates/glib-macros/0.20.10/download'
        'glib-sys-0.20.10.tar.gz::https://crates.io/api/v1/crates/glib-sys/0.20.10/download'
        'glob-0.3.2.tar.gz::https://crates.io/api/v1/crates/glob/0.3.2/download'
        'gobject-sys-0.20.10.tar.gz::https://crates.io/api/v1/crates/gobject-sys/0.20.10/download'
        'hashbrown-0.14.5.tar.gz::https://crates.io/api/v1/crates/hashbrown/0.14.5/download'
        'hashbrown-0.15.4.tar.gz::https://crates.io/api/v1/crates/hashbrown/0.15.4/download'
        'heck-0.5.0.tar.gz::https://crates.io/api/v1/crates/heck/0.5.0/download'
        'hermit-abi-0.3.9.tar.gz::https://crates.io/api/v1/crates/hermit-abi/0.3.9/download'
        'hex-0.4.3.tar.gz::https://crates.io/api/v1/crates/hex/0.4.3/download'
        'indexmap-2.9.0.tar.gz::https://crates.io/api/v1/crates/indexmap/2.9.0/download'
        'inotify-0.11.0.tar.gz::https://crates.io/api/v1/crates/inotify/0.11.0/download'
        'inotify-sys-0.1.5.tar.gz::https://crates.io/api/v1/crates/inotify-sys/0.1.5/download'
        'input-linux-0.7.1.tar.gz::https://crates.io/api/v1/crates/input-linux/0.7.1/download'
        'input-linux-sys-0.9.0.tar.gz::https://crates.io/api/v1/crates/input-linux-sys/0.9.0/download'
        'io-lifetimes-1.0.11.tar.gz::https://crates.io/api/v1/crates/io-lifetimes/1.0.11/download'
        'itertools-0.13.0.tar.gz::https://crates.io/api/v1/crates/itertools/0.13.0/download'
        'itertools-0.14.0.tar.gz::https://crates.io/api/v1/crates/itertools/0.14.0/download'
        'itoa-1.0.15.tar.gz::https://crates.io/api/v1/crates/itoa/1.0.15/download'
        'lazy_static-1.5.0.tar.gz::https://crates.io/api/v1/crates/lazy_static/1.5.0/download'
        'libc-0.2.174.tar.gz::https://crates.io/api/v1/crates/libc/0.2.174/download'
        'libloading-0.8.8.tar.gz::https://crates.io/api/v1/crates/libloading/0.8.8/download'
        'libudev-sys-0.1.4.tar.gz::https://crates.io/api/v1/crates/libudev-sys/0.1.4/download'
        'linux-raw-sys-0.9.4.tar.gz::https://crates.io/api/v1/crates/linux-raw-sys/0.9.4/download'
        'log-0.4.27.tar.gz::https://crates.io/api/v1/crates/log/0.4.27/download'
        'matchers-0.1.0.tar.gz::https://crates.io/api/v1/crates/matchers/0.1.0/download'
        'memchr-2.7.5.tar.gz::https://crates.io/api/v1/crates/memchr/2.7.5/download'
        'memoffset-0.9.1.tar.gz::https://crates.io/api/v1/crates/memoffset/0.9.1/download'
        'minimal-lexical-0.2.1.tar.gz::https://crates.io/api/v1/crates/minimal-lexical/0.2.1/download'
        'miniz_oxide-0.8.9.tar.gz::https://crates.io/api/v1/crates/miniz_oxide/0.8.9/download'
        'mio-1.0.4.tar.gz::https://crates.io/api/v1/crates/mio/1.0.4/download'
        'nix-0.29.0.tar.gz::https://crates.io/api/v1/crates/nix/0.29.0/download'
        'nix-0.30.1.tar.gz::https://crates.io/api/v1/crates/nix/0.30.1/download'
        'nom-7.1.3.tar.gz::https://crates.io/api/v1/crates/nom/7.1.3/download'
        'ntapi-0.4.1.tar.gz::https://crates.io/api/v1/crates/ntapi/0.4.1/download'
        'num_enum-0.7.3.tar.gz::https://crates.io/api/v1/crates/num_enum/0.7.3/download'
        'num_enum_derive-0.7.3.tar.gz::https://crates.io/api/v1/crates/num_enum_derive/0.7.3/download'
        'objc2-core-foundation-0.3.1.tar.gz::https://crates.io/api/v1/crates/objc2-core-foundation/0.3.1/download'
        'objc2-io-kit-0.3.1.tar.gz::https://crates.io/api/v1/crates/objc2-io-kit/0.3.1/download'
        'object-0.36.7.tar.gz::https://crates.io/api/v1/crates/object/0.36.7/download'
        'once_cell-1.21.3.tar.gz::https://crates.io/api/v1/crates/once_cell/1.21.3/download'
        'ordered-multimap-0.7.3.tar.gz::https://crates.io/api/v1/crates/ordered-multimap/0.7.3/download'
        'ordered-stream-0.2.0.tar.gz::https://crates.io/api/v1/crates/ordered-stream/0.2.0/download'
        'parking-2.2.1.tar.gz::https://crates.io/api/v1/crates/parking/2.2.1/download'
        'pathdiff-0.2.3.tar.gz::https://crates.io/api/v1/crates/pathdiff/0.2.3/download'
        'pin-project-lite-0.2.16.tar.gz::https://crates.io/api/v1/crates/pin-project-lite/0.2.16/download'
        'pin-utils-0.1.0.tar.gz::https://crates.io/api/v1/crates/pin-utils/0.1.0/download'
        'pkg-config-0.3.32.tar.gz::https://crates.io/api/v1/crates/pkg-config/0.3.32/download'
        'prettyplease-0.2.34.tar.gz::https://crates.io/api/v1/crates/prettyplease/0.2.34/download'
        'proc-macro2-1.0.95.tar.gz::https://crates.io/api/v1/crates/proc-macro2/1.0.95/download'
        'proc-macro-crate-3.3.0.tar.gz::https://crates.io/api/v1/crates/proc-macro-crate/3.3.0/download'
        'quick-xml-0.36.2.tar.gz::https://crates.io/api/v1/crates/quick-xml/0.36.2/download'
        'quote-1.0.40.tar.gz::https://crates.io/api/v1/crates/quote/1.0.40/download'
        'r-efi-5.3.0.tar.gz::https://crates.io/api/v1/crates/r-efi/5.3.0/download'
        'regex-1.11.1.tar.gz::https://crates.io/api/v1/crates/regex/1.11.1/download'
        'regex-automata-0.1.10.tar.gz::https://crates.io/api/v1/crates/regex-automata/0.1.10/download'
        'regex-automata-0.4.9.tar.gz::https://crates.io/api/v1/crates/regex-automata/0.4.9/download'
        'regex-syntax-0.6.29.tar.gz::https://crates.io/api/v1/crates/regex-syntax/0.6.29/download'
        'regex-syntax-0.8.5.tar.gz::https://crates.io/api/v1/crates/regex-syntax/0.8.5/download'
        'rustc-demangle-0.1.25.tar.gz::https://crates.io/api/v1/crates/rustc-demangle/0.1.25/download'
        'rustc-hash-2.1.1.tar.gz::https://crates.io/api/v1/crates/rustc-hash/2.1.1/download'
        'rust-ini-0.21.1.tar.gz::https://crates.io/api/v1/crates/rust-ini/0.21.1/download'
        'rustix-1.0.7.tar.gz::https://crates.io/api/v1/crates/rustix/1.0.7/download'
        'rustversion-1.0.21.tar.gz::https://crates.io/api/v1/crates/rustversion/1.0.21/download'
        'ryu-1.0.20.tar.gz::https://crates.io/api/v1/crates/ryu/1.0.20/download'
        'serde-1.0.219.tar.gz::https://crates.io/api/v1/crates/serde/1.0.219/download'
        'serde_derive-1.0.219.tar.gz::https://crates.io/api/v1/crates/serde_derive/1.0.219/download'
        'serde_json-1.0.140.tar.gz::https://crates.io/api/v1/crates/serde_json/1.0.140/download'
        'serde_repr-0.1.20.tar.gz::https://crates.io/api/v1/crates/serde_repr/0.1.20/download'
        'serde_spanned-0.6.9.tar.gz::https://crates.io/api/v1/crates/serde_spanned/0.6.9/download'
        'sharded-slab-0.1.7.tar.gz::https://crates.io/api/v1/crates/sharded-slab/0.1.7/download'
        'shlex-1.3.0.tar.gz::https://crates.io/api/v1/crates/shlex/1.3.0/download'
        'signal-hook-registry-1.4.5.tar.gz::https://crates.io/api/v1/crates/signal-hook-registry/1.4.5/download'
        'slab-0.4.10.tar.gz::https://crates.io/api/v1/crates/slab/0.4.10/download'
        'smallvec-1.15.1.tar.gz::https://crates.io/api/v1/crates/smallvec/1.15.1/download'
        'socket2-0.5.10.tar.gz::https://crates.io/api/v1/crates/socket2/0.5.10/download'
        'speech-dispatcher-0.16.0.tar.gz::https://crates.io/api/v1/crates/speech-dispatcher/0.16.0/download'
        'speech-dispatcher-sys-0.7.0.tar.gz::https://crates.io/api/v1/crates/speech-dispatcher-sys/0.7.0/download'
        'static_assertions-1.1.0.tar.gz::https://crates.io/api/v1/crates/static_assertions/1.1.0/download'
        'strum-0.27.1.tar.gz::https://crates.io/api/v1/crates/strum/0.27.1/download'
        'strum_macros-0.27.1.tar.gz::https://crates.io/api/v1/crates/strum_macros/0.27.1/download'
        'syn-2.0.103.tar.gz::https://crates.io/api/v1/crates/syn/2.0.103/download'
        'sysinfo-0.35.2.tar.gz::https://crates.io/api/v1/crates/sysinfo/0.35.2/download'
        'system-deps-7.0.5.tar.gz::https://crates.io/api/v1/crates/system-deps/7.0.5/download'
        'target-lexicon-0.13.2.tar.gz::https://crates.io/api/v1/crates/target-lexicon/0.13.2/download'
        'tempfile-3.20.0.tar.gz::https://crates.io/api/v1/crates/tempfile/3.20.0/download'
        'thread_local-1.1.9.tar.gz::https://crates.io/api/v1/crates/thread_local/1.1.9/download'
        'tiny-keccak-2.0.2.tar.gz::https://crates.io/api/v1/crates/tiny-keccak/2.0.2/download'
        'tokio-1.45.1.tar.gz::https://crates.io/api/v1/crates/tokio/1.45.1/download'
        'tokio-macros-2.5.0.tar.gz::https://crates.io/api/v1/crates/tokio-macros/2.5.0/download'
        'tokio-stream-0.1.17.tar.gz::https://crates.io/api/v1/crates/tokio-stream/0.1.17/download'
        'tokio-util-0.7.15.tar.gz::https://crates.io/api/v1/crates/tokio-util/0.7.15/download'
        'toml-0.8.23.tar.gz::https://crates.io/api/v1/crates/toml/0.8.23/download'
        'toml_datetime-0.6.11.tar.gz::https://crates.io/api/v1/crates/toml_datetime/0.6.11/download'
        'toml_edit-0.22.27.tar.gz::https://crates.io/api/v1/crates/toml_edit/0.22.27/download'
        'toml_write-0.1.2.tar.gz::https://crates.io/api/v1/crates/toml_write/0.1.2/download'
        'tracing-0.1.41.tar.gz::https://crates.io/api/v1/crates/tracing/0.1.41/download'
        'tracing-attributes-0.1.30.tar.gz::https://crates.io/api/v1/crates/tracing-attributes/0.1.30/download'
        'tracing-core-0.1.34.tar.gz::https://crates.io/api/v1/crates/tracing-core/0.1.34/download'
        'tracing-subscriber-0.3.19.tar.gz::https://crates.io/api/v1/crates/tracing-subscriber/0.3.19/download'
        'trim-in-place-0.1.7.tar.gz::https://crates.io/api/v1/crates/trim-in-place/0.1.7/download'
        'udev-0.9.3.tar.gz::https://crates.io/api/v1/crates/udev/0.9.3/download'
        'uds_windows-1.1.0.tar.gz::https://crates.io/api/v1/crates/uds_windows/1.1.0/download'
        'unicode-ident-1.0.18.tar.gz::https://crates.io/api/v1/crates/unicode-ident/1.0.18/download'
        'version-compare-0.2.0.tar.gz::https://crates.io/api/v1/crates/version-compare/0.2.0/download'
        'wasi-0.11.1+wasi-snapshot-preview1.tar.gz::https://crates.io/api/v1/crates/wasi/0.11.1+wasi-snapshot-preview1/download'
        'wasi-0.14.2+wasi-0.2.4.tar.gz::https://crates.io/api/v1/crates/wasi/0.14.2+wasi-0.2.4/download'
        'winapi-0.3.9.tar.gz::https://crates.io/api/v1/crates/winapi/0.3.9/download'
        'winapi-i686-pc-windows-gnu-0.4.0.tar.gz::https://crates.io/api/v1/crates/winapi-i686-pc-windows-gnu/0.4.0/download'
        'winapi-x86_64-pc-windows-gnu-0.4.0.tar.gz::https://crates.io/api/v1/crates/winapi-x86_64-pc-windows-gnu/0.4.0/download'
        'windows-0.61.3.tar.gz::https://crates.io/api/v1/crates/windows/0.61.3/download'
        'windows_aarch64_gnullvm-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_gnullvm/0.48.5/download'
        'windows_aarch64_gnullvm-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_gnullvm/0.52.6/download'
        'windows_aarch64_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_msvc/0.48.5/download'
        'windows_aarch64_msvc-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_aarch64_msvc/0.52.6/download'
        'windows-collections-0.2.0.tar.gz::https://crates.io/api/v1/crates/windows-collections/0.2.0/download'
        'windows-core-0.61.2.tar.gz::https://crates.io/api/v1/crates/windows-core/0.61.2/download'
        'windows-future-0.2.1.tar.gz::https://crates.io/api/v1/crates/windows-future/0.2.1/download'
        'windows_i686_gnu-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnu/0.48.5/download'
        'windows_i686_gnu-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnu/0.52.6/download'
        'windows_i686_gnullvm-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_i686_gnullvm/0.52.6/download'
        'windows_i686_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_i686_msvc/0.48.5/download'
        'windows_i686_msvc-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_i686_msvc/0.52.6/download'
        'windows-implement-0.60.0.tar.gz::https://crates.io/api/v1/crates/windows-implement/0.60.0/download'
        'windows-interface-0.59.1.tar.gz::https://crates.io/api/v1/crates/windows-interface/0.59.1/download'
        'windows-link-0.1.3.tar.gz::https://crates.io/api/v1/crates/windows-link/0.1.3/download'
        'windows-numerics-0.2.0.tar.gz::https://crates.io/api/v1/crates/windows-numerics/0.2.0/download'
        'windows-result-0.3.4.tar.gz::https://crates.io/api/v1/crates/windows-result/0.3.4/download'
        'windows-strings-0.4.2.tar.gz::https://crates.io/api/v1/crates/windows-strings/0.4.2/download'
        'windows-sys-0.48.0.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.48.0/download'
        'windows-sys-0.52.0.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.52.0/download'
        'windows-sys-0.59.0.tar.gz::https://crates.io/api/v1/crates/windows-sys/0.59.0/download'
        'windows-targets-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows-targets/0.48.5/download'
        'windows-targets-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows-targets/0.52.6/download'
        'windows-threading-0.1.0.tar.gz::https://crates.io/api/v1/crates/windows-threading/0.1.0/download'
        'windows_x86_64_gnu-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnu/0.48.5/download'
        'windows_x86_64_gnu-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnu/0.52.6/download'
        'windows_x86_64_gnullvm-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnullvm/0.48.5/download'
        'windows_x86_64_gnullvm-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_gnullvm/0.52.6/download'
        'windows_x86_64_msvc-0.48.5.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_msvc/0.48.5/download'
        'windows_x86_64_msvc-0.52.6.tar.gz::https://crates.io/api/v1/crates/windows_x86_64_msvc/0.52.6/download'
        'winnow-0.7.11.tar.gz::https://crates.io/api/v1/crates/winnow/0.7.11/download'
        'wit-bindgen-rt-0.39.0.tar.gz::https://crates.io/api/v1/crates/wit-bindgen-rt/0.39.0/download'
        'xdg-3.0.0.tar.gz::https://crates.io/api/v1/crates/xdg/3.0.0/download'
        'zbus-5.7.1.tar.gz::https://crates.io/api/v1/crates/zbus/5.7.1/download'
        'zbus_macros-5.7.1.tar.gz::https://crates.io/api/v1/crates/zbus_macros/5.7.1/download'
        'zbus_names-4.2.0.tar.gz::https://crates.io/api/v1/crates/zbus_names/4.2.0/download'
        'zbus_xml-5.0.2.tar.gz::https://crates.io/api/v1/crates/zbus_xml/5.0.2/download'
        'zvariant-5.5.3.tar.gz::https://crates.io/api/v1/crates/zvariant/5.5.3/download'
        'zvariant_derive-5.5.3.tar.gz::https://crates.io/api/v1/crates/zvariant_derive/5.5.3/download'
        'zvariant_utils-3.2.0.tar.gz::https://crates.io/api/v1/crates/zvariant_utils/3.2.0/download')
sha256sums=('a2a7927ad72ac68ef16ead076798e852071f6437a85ac0c588d81a0d39d0c5e9'
            'dfbe277e56a376000877090da837660b4427aad530e3028d44e0bffe4f89a1c1'
            '320119579fcad9c21884f5c4861d16174d0e06250625266f50fe6898340abefa'
            '8e60d3430d3a69478ad0993f19238d2df97c507009a52b3c10addcd7f6bcb916'
            '862ed96ca487e809f1c8e5a8447f6ee2cf102f846893800b20cebdf541fc6bbd'
            'e16d2d3311acee920a9eb8d33b8cbc1787ce4a264e85f964c2404b969bdcd487'
            '435a87a52755b8f27fcf321ac4f04b2802e337c8c4872923137471ec39c37532'
            '3b43422f69d8ff38f95f1b2bb76517c91589a924d1559a0e935d7c8ce0274c11'
            'e539d3fca749fcee5236ab05e93a52867dd549cc157c8cb7f99595f3cedffdb5'
            'c08606f8c3cbf4ce6ec8e28fb0014a2c086708fe954eaa885384a6165172e7e8'
            '6806a6321ec58106fea15becdad98371e28d92ccbc7c8f1b3b6dd724fe8f1002'
            '4f72209734318d0b619a5e0f5129918b848c416e122a3c4ce054e03cb87b726f'
            '1b8e56985ec62d17e9c1001dc89c88ecd7dc08e47eba5ec7c29c7b5eeecde967'
            'd71b6127be86fdcfddb610f7182ac57211d4b18a3e9c82eb2d17662f2227ad6a'
            '6fac387a98bb7c37292057cffc56d62ecb629900026402633ae9160df93a8766'
            '613afe47fcd5fac7ccf1db93babcb082c5994d996f20b8b159f2ad1658eb5724'
            '1a2b34126159980f92da2a08bdec0694fd80fb5eb9e48aff25d20a0d8dfa710d'
            '9555578bc9e57714c812a1f84e4fc5b4d21fcb063490c624de019f7464c91268'
            '0b023947811758c97c59bf9d1c188fd619ad4718dcaa767947df1cadb14f39f4'
            '40b6887a1d8685cebccf115538db5c0efe625ccac9696ad45c409d96566e910f'
            'e0c66c08ce9f0c698cbce5c0279d0bb6ac936d8674174fe48f736533b964f59e'
            'd2c7947ae4cc3d851207c1adb5b5e260ff0cca11446b1d6d1423788e442257ce'
            'b94f61472cee1439c0b966b47e3aca9ae07e45d070759512cd390ea2bebc6675'
            '4ca0197aee26d1ae37445ee532fefce43251d24cc7c166799f4d46817f1d3973'
            '595aae20e65c3be792d05818e8c63025294ac3cb7e200f11459063a352a6ef80'
            '87e00182fe74b066627d63b85fd550ac2998d4b0bd86bfed477a0ae4c7c71359'
            'f9d839f2a20b0aee515dc581a6172f2321f96cab76c1a38a4c584a194955390e'
            'd0a5c400df2834b80a4c3327b3aad3a4c4cd4de0629063962b03235697506a28'
            '43da5946c66ffcc7745f48db692ffbb10a83bfe0afd96235c5c2a4fb23994929'
            '442039f5147480ba31067cb00ada1adae6892028e40e45fc5de7b7df6dcc1b5f'
            '48c757948c5ede0e46177b7add2e67155f70e33c07fea8284df6576da70b3719'
            'a3d8a32ae18130a3c84dd492d4215c3d913c3b07c6b63c2eb3eb7ff1101ab7bf'
            '1027f7680c853e056ebcec683615fb6fbbc07dbaa13b4d5d9442b146ded4ecef'
            '67c78a4d8fdf9953a5c9d458f9efe940fd97a0cab0941c075a813ac594733827'
            '877a4ace8713b0bcf2a4e7eec82529c029f1d0619886d18145fea96c3ffe5c0f'
            'cea14ef9355e3beab063703aa9dab15afd25f0667c341310c1e5274bb1d0da18'
            '3492acde4c3fc54c845eaab3eed8bd00c7a7d881f78bfc801e43a93dec1331ae'
            '8be9f3dfaaffdae2972880079a491a1a8bb7cbed0b8dd7a347f668b4150a3b93'
            '37909eebbb50d72f9059c3b6d82c0463f2ff062c9e95845c43a6c9c0355411be'
            '2dff15bf788c671c1934e366d07e30c1814a8ef514e1af724a602e8a2fbe1b10'
            '05f29059c0c2090612e8d742178b0580d2dc940c837851ad723096f87af6663e'
            '1e28d1d997f585e54aebc3f97d39e72338912123a67330d723fdbb564d646c9f'
            '9e5c1b78ca4aae1ac06c48a526a655760685149f0d465d21f37abfe57ce075c6'
            'f5edaec856126859abb19ed65f39e90fea3a9574b9707f13539acf4abf7eb532'
            '162ee34ebcb7c64a8abebc059ce0fee27c2262618d7b60ed8faf72fef13c3650'
            'e575fab7d1e0dcb8d0c7bcf9a63ee213816ab51902e6d244a95819acacf1d4f7'
            'f90f7dce0722e95104fcb095585910c0977252f286e354b5e3bd38902cd99988'
            '9fa08315bb612088cc391249efdc3bc77536f16c91f6cf495e6fbe85b20a4a81'
            '335ff9f135e4384c8150d6f27c6daed433577f86b4750418338c01a1a2528592'
            '26145e563e54f2cadc477553f1ec5ee650b00862f0a58bcd12cbdc5f0ea2d2f4'
            '07e28edb80900c19c28f1072f2e8aeca7fa06b23cd4169cefe1af5aa3260783f'
            'd2a5c3829f5794cb15120db87707b2ec03720edff7ad09eb7b711b532e3fe747'
            '521e93a7e56fc89e84aea9a52cfc9436816a4b363b030260b699950ff1336c83'
            'c501c495842c2b23cdacead803a5a343ca2a5d7a7ddaff14cc5f6cf22cfb92c2'
            'ebe6dc9ce29887c4b3b74d78d5ba473db160a258ae7ed883d23632ac7fed7bc9'
            '8ab79e1ed126803a8fb827e3de0e2ff95191912b8db65cee467edb56fc4cc215'
            'a8d1add55171497b4705a648c6b583acafb01d58050a51727785f0b2c8e0a2b2'
            'ec9aca94bb73989e3cfdbf8f2e0f1f6da04db4d291c431f444838925c4c63eda'
            'e5274423e17b7c9fc20b6e7e208532f9b19825d82dfd615708b70edd83df41f1'
            '5971ac85611da7067dbfcabef3c70ebb5606018acd9e2a3903a0da507521e0d5'
            '2304e00983f87ffb38b55b444b5e3b60a884b5d30c0fca7d82fe33449bbe55ea'
            'd231dfb89cfffdbc30e7fc41579ed6066ad03abda9e567ccafae602b97ec5024'
            '7f24254aa9a54b5c858eaee2f5bccdb46aaf0e486a595ed5fd8f86ba55232a70'
            'cea70ddb795996207ad57735b50c5982d8844f38ba9ee5f1aedcfb708a2aa11e'
            'f37dccff2791ab604f9babef0ba14fbe0be30bd368dc541e2b08d07c8aa908f3'
            'e05c02b5e89bff3b946cedeca278abc628fe811e604f027c45a8aa3cf793d0eb'
            'b7e8c4821c88b95582ca69234a1d233f87e44182c42e121f740efb0bec1142e0'
            '7b91b2248b0eaf0a576ef5e60b7f2107a749e705a876bc0b9fe952ac8d83a724'
            'eae7b9aee968036d54dce06cebaefd919e4472e753296daccd6d344e3e2df0c2'
            '413ee7dfc52ee1a4949ceeb7dbc8a33f2d6c088194d9f922fb8318faf1f01186'
            '2b192c782037fadd9cfa75548310488aabdbf3d2da73885b31bd0abd03351285'
            '4a5f13b858c8d314ee3e8f639011f7ccefe71f97f96e50151fb991f267928e2c'
            'bbd2bcb4c963f2ddae06a2efc7e9f3591312473c50c6685e1f298068316e66fe'
            '1171693293099992e19cddea4e8b849964e9846f4acee11b3948bcc337be8776'
            '07033963ba89ebaf1584d767badaa2e8fcec21aedea6b8c0346d487d49c28667'
            '3c8469b4a23b962c1396b9b451dda50ef5b283e8dd309d69033475fa9b334324'
            'cd945864f07fe9f5371a27ad7b52a172b4b499999f1d97574c9fa68373937e12'
            '13dc2df351e3202783a1fe0d44375f7295ffb4049267b0f3018346dc122a1d94'
            '8263075bb86c5a1b1427b5ae862e8889656f126e9f77c484496e8b47cf5c5558'
            '32a282da65faaf38286cf3be983213fcf1d2e2a58700e808f83f4ea9a4804bc0'
            '488016bfae457b036d996092f6cb448677611ce4449e970ceaf42695203f218a'
            '68354c5c6bd36d73ff3feceb05efa59b6acb7626617f4962be322a825e61f79a'
            '1fa76a2c86f704bdb222d66965fb3d63269ce38518b83cb0575fca855ebb6316'
            '78bed444cc8a2160f01cbcf811ef18cac863ad68ae8ca62092e8db51d51c761c'
            '71e2746dc3a24dd78b3cfcb7be93368c6de9963d30f43a6a73998a9cf4b17b46'
            '74523f3a35e05aba87a1d978330aef40f67b0304ac79c1c00b294c9830543db6'
            'd273983c5a657a70a3e8f2a01329822f3b8c8172b73826411a55751e404a0a4a'
            'e8a3895c6391c39d7fe7ebc444a87eb2991b2a0bc718fdabd071eec617fc68e4'
            '4e613fc340b2220f734a8595782c551f1250e969d87d3be1ae0579e8d4065179'
            'af1844ef2428cc3e1cb900be36181049ef3d3193c63e43026cfe202983b27a56'
            '1c10c2894a6fed806ade6027bcd50662746363a9589d3ec9d9bef30a4e4bc166'
            '71c1c64d6120e51cd86033f67176b1cb66780c2efe34dec55176f77befd93c0a'
            '62948e14d923ea95ea2c7c86c71013138b66525b86bdc08d2dcc262bdb497b87'
            '42f5e15c9953c5e4ccceeb2e7382a716482c34515315f7b03532b8b4e8393d2d'
            '49203cdcae0030493bad186b28da2fa25645fa276a51b6fec8010d281e02ef79'
            '9aa2b01e1d916879f73a53d01d1d6cee68adbb31d6d9177a8cfce093cced1d50'
            'f38d5652c16fde515bb1ecef450ab0f6a219d619a7274976324d5e377f7dceba'
            'df94ce210e5bc13cb6651479fa48d14f601d9858cfe0467f43ae157023b938d3'
            '3b3cff922bd51709b605d9ead9aa71031d81447142d828eb4a6eba76fe619f9b'
            '8b870d8c151b6f2fb93e84a13146138f05d02ed11c7e7c54f8826aaaf7c9f184'
            '7edddbd0b52d732b21ad9a5fab5c704c14cd949e5e9a1ec5929a24fded1b904c'
            '6837b9e10d61f45f987d50808f83d1ee3d206c66acf650c3e4ae2e1f6ddedf55'
            '02b3e5e68a3a1a02aad3ec490a98007cbc13c37cbe84a3cd7b8e406d76e7f778'
            'edce586971a4dfaa28950c6f18ed55e0406c1ab88bbce2c6f6293a7aaba73d35'
            'f7649a7b4df05aed9ea7ec6f628c67c9953a43869b8bc50929569b2999d443fe'
            '1885c039570dc00dcb4ff087a89e185fd56bae234ddc7f056a945bf36467248d'
            '69cdb34c158ceb288df11e18b4bd39de994f6657d83847bdffdbd7f346754b0f'
            'b544ef1b4eac5dc2db33ea63606ae9ffcfac26c1416a2806ae0bf5f56b201191'
            '6c230d73fb8d8c1b9c0b3135c5142a8acee3a0558fb8db5cf1cb65f8d7862132'
            '809e8dc61f6de73b46c85f4c96486310fe304c434cfa43669d7b40f711150908'
            'f162c6dd7b008981e4d40210aca20b4bd0f9b60ca9271061b07f78537722f2e1'
            '2b15c43186be67a4fd63bee50d0303afffcef381492ebe2c5d87f324e1b8815c'
            '989e6739f80c4ad5b13e0fd7fe89531180375b18520cc8c82080e4dc4035b84f'
            '357703d41365b4b27c590e3ed91eabb1b663f07c4c084095e60cbed4362dff0d'
            '4e310ef0e1b6eeb79169a1171daf9abcb87a2e17c03bee2c4bb100b55c75409f'
            'c71e83d6afe7ff64890ec6b71d6a69bb8a610ab78ce364b3352876bb4c801266'
            '8a0d197bd2c9dc6e53b84da9556a69ba4cdfab8619eb41a8bd1cc2027a0f6b1d'
            '28d3b2b1366ec20994f1fd18c3c594f05c5dd4bc44d8bb0c1c632c8d6829481f'
            '5f0e2c6ed6606019b4e29e69dbaba95b11854410e5347d525002456dbbb786b6'
            '5b0276cf7f2c73365f7157c8123c21cd9a50fbbd844757af28ca1f5925fc2a00'
            '20068b6e96dc6c9bd23e01df8827e6c7e1f2fddd43c21810382803c136b99373'
            '175ee3e80ae9982737ca543e96133087cbd9a485eecc3bc4de9c1a37b47ea59c'
            'bf41e0cfaf7226dca15e8197172c295a782857fcb97fad1808a166870dee75a3'
            'f40ca3c46823713e0d4209592e8d6e826aa57e928f09752619fc696c499637f6'
            '0fda2ff0d084019ba4d7c6f371c95d8fd75ce3524c3cb8fb653a3023f6323e64'
            '9203b8055f63a2a00e2f593bb0510367fe707d7ff1e5c872de2f537b339e5410'
            '04dc19736151f35336d325007ac991178d504a119863a2fcb3758cdb5e52c50d'
            '67b1b7a3b5fe4f1376887184045fcf45c69e92af734b7aaddc05fb777b6fbd03'
            'e22376abed350d73dd1cd119b57ffccad95b4e585a7cda43e286245ce23c0678'
            '5727d53c474ba5ada07784ad7d203cf896a74854cfee0eb32376b00759eb2972'
            '6c3e8acdf2b1f4bb13f1813b40b52f3edf4cc94d8a55fe713a584f672a10388d'
            'a2eb9349b6444b326872e140eb1cf5e7c522154d69e7a0ffb0fb81c06b37543f'
            'f64def088c51c9510a8579e3c5d67c65349dcf755e5479ad3d010aa6454e2c32'
            'c77a8c5abcaf0f9ce05d62342b7d298c346515365c36b673df4ebe3ced01fde8'
            'e4307e30089d6fd6aff212f2da3a1f9e32f3223b1f010fb09b7c95f90f3ca1e8'
            '3c3ffa3e4ff2b324a57f7aeb3c349656c7b127c3c189520251a648102a92496e'
            'e4be53aa0cba896d2dc615bd42bbc130acdcffa239e0a2d965ea5b3b2a86ffdb'
            'e502f78cdbb8ba4718f566c418c52bc729126ffd16baee5baa718cf25dd5a69a'
            'e8a64e3985349f2441a1a9ef0b853f869006c3855f2cda6862a94d26ebb9d6a1'
            'f60246a4944f24f6e018aa17cdeffb7818b76356965d03b07d6a9886e8962185'
            '2c9d3793400a45f954c52e73d068316d76b6f4e36977e3fcebb13a2721e80237'
            '75ef51a33ef1da925cea3e4eb122833cb377c61439ca401b770f54902b806779'
            '6e06d43f1345a3bcd39f6a56dbb7dcab2ba47e68e8ac134855e7e2bdbaf8cab8'
            'eca58d7bba4a75707817a2c44174253f9236b2d5fbd055602e9d5c07c139a047'
            '66a539a9ad6d5d281510d5bd368c973d636c02dbf8a67300bfb6b950696ad7df'
            'dc1beb996b9d83529a9e75c17a1686767d148d70663143c7854d8b4a09ced362'
            '22cddaf88f4fbc13c51aebbf5f8eceb5c7c5a9da2ac40a13519eb5b0a0e8f11c'
            '41fe8c660ae4257887cf66394862d21dbca4a6ddd26f04a3560410406a2f819a'
            '5d99f8c9a7727884afe522e9bd5edbfc91a3312b36a77b5fb8926e4c31a41801'
            '784e0ac535deb450455cbfa28a6f0df145ea1bb7ae51b821cf5e7927fdcfbdd0'
            '81383ab64e72a7a8b8e13130c49e3dab29def6d0c7d76a03087b3cf71c5c6903'
            'b9d12581f227e93f094d3af2ae690a574abb8a2b9b7a96e7cfe9647b2b617678'
            'e8189decb5ac0fa7bc8b96b7cb9b2701d60d48805aca84a238004d665fcc4008'
            '343e926fc669bc8cde4fa3129ab681c63671bae288b1f1081ceee6d9d37904fc'
            'af4e37e9ea4401fc841ff54b9ddfc9be1079b1e89434c1a6a865dd68980f7e9f'
            '89daebc3e6fd160ac4aa9fc8b3bf71e1f74fbf92367ae71fb83a037e8bf164b9'
            '5a5f39404a5da50712a4c1eecf25e90dd62b613502b7e925fd4e4d19b5c96512'
            '852e951cb7832cb45cb1169900d19760cfa39b82bc0ea9c0e5a14ae88411c98b'
            'ccf3ec651a847eb01de73ccad15eb7d99f80485de043efb2f370cd654f4ea44b'
            '9683f9a5a998d873c0d21fcbe3c083009670149a8fab228644b8bd36b2c48cb3'
            '5c839a674fcd7a98952e593242ea400abe93992746761e38641405d28b00f419'
            'ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6'
            '712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f'
            '9babd3a767a4c1aef6900409f85f5d53ce2544ccdfaa86dad48c91782c6d6893'
            '2b38e32f0abccf9987a4e3079dfb67dcd799fb61361e53e2882c3cbaf0d905d8'
            '32a4622180e7a0ec044bb555404c800bc9fd9ec262ec147edd5989ccd0c02cd3'
            'dc35310971f3b2dbbf3f0690a219f40e2d9afcf64f9ab7cc1be722937c26b4bc'
            '09ec2a7bb152e2252b53fa7803150007879548bc709c039df7627cabbd05d469'
            '3beeceb5e5cfd9eb1d76b381630e82c4241ccd0d27f1a39ed41b2760b255c5e8'
            'c0fdd3ddb90610c7638aa2b3a3ab2904fb9e5cdbecc643ddb3647212781c4ae3'
            'fc6a41e98427b19fe4b73c550f060b59fa592d7d686537eebf9385621bfbad8e'
            'a75915e7def60c94dcef72200b9a8e58e5091744960da64ec734a6c6e9b3743e'
            '8e9b5ad5ab802e97eb8e295ac6720e509ee4c243f69d781394014ebfe8bbfa0b'
            '0eee52d38c090b3caa76c563b86c3a4bd71ef1a819287c19d586d7334ae8ed66'
            '8f55c233f70c4b27f66c523580f78f1004e8b5a8b659e05a4eb49d4166cca406'
            '240948bc05c5e7c6dabba28bf89d89ffce3e303022809e73deaefe4f6ec56c66'
            'a47fddd13af08290e67f4acabf4b459f647552718f683a7b415d290ac744a836'
            'bd9211b69f8dcdfa817bfd14bf1c97c9188afa36f4750130fcdf3f400eca9fa8'
            '5e6ad25900d524eaabdbbb96d20b4311e1e7ae1699af4fb28c17ae66c80d798a'
            '9150af68066c4c5c07ddc0ce30421554771e528bde427614c61038bc2c92c2b1'
            '56f42bd332cc6c8eac5af113fc0c1fd6a8fd2aa08a0119358686e5160d0586c6'
            '56e6c93f3a0c3b36176cb1327a4958a0353d5d166c2a35cb268ace15e91d3b57'
            '677d2418bec65e3338edb076e806bc1ec15693c5d0104683f2efe857f61056a9'
            '282be5f36a8ce781fad8c8ae18fa3f9beff57ec1b52cb3de0789201425d9a33d'
            '1e38bc4d79ed67fd075bcc251a1c39b32a1776bbe92e5bef1f0bf1f8c531853b'
            '9a2fa6e2155d7247be68c096456083145c183cbbbc2764150dda45a87197940c'
            '9b724f72796e036ab90c1021d4780d4d3d648aca59e491e6b98e725b84e99973'
            'b66463ad2e0ea3bbf808b7f1d371311c80e115c0b71d60efc142cafbcfb057a6'
            '53d40abd2583d23e4718fddf1ebec84dbff8381c07cae67ff7768bbf19c6718e'
            '147a5c80aabfbf0c7d901cb5895d1de30ef2907eb21fbbab29ca94c5b08b1a78'
            '0b7b52767868a23d5bab768e390dc5f5c55825b6d30b86c844ff2dc7414044cc'
            '24d5b23dc417412679681396f2b49f3de8c1473deb516bd34410872eff51ed0d'
            'ed94fce61571a4006852b7389a063ab983c02eb1bb37b47f8272ce92d06d9538'
            '589f6da84c646204747d1270a2a5661ea66ed1cced2631d546fdfb155959f9ec'
            '74c7b26e3480b707944fc872477815d29a8e429d2f93a1ce000f5fa84a15cbcd'
            '6f42320e61fe2cfd34354ecb597f86f413484a798ba44a8ca1165c58d42da6c1'
            '2fb433233f2df9344722454bc7e96465c9d03bff9d77c248f9e7523fe79585b5'
            'd3a7c7cee313d044fca3f48fa782cb750c79e4ca76ba7bc7718cd4024cdf6f68'
            'a17e7e5eec1550f747e71a058df81a9a83813ba0f6a95f39c4e218bdc7ba366a'
            '7be68e64bf6ce8db94f63e72f0c7eb9a60d733f7e0499e628dfab0f84d6bcb97'
            '589e9a02bfafb9754bb2340a9e3b38f389772684c63d9637e76b1870377bec29'
            '9d30786f75e393ee63a21de4f9074d4c038d52c5b1bb4471f955db249f9dffb1'
            '75fda702cd42d735ccd48117b1630432219c0e9616bf6cb0f8350844ee4d9580'
            'e16edfee43e5d7b553b77872d99bc36afdda75c223ca7ad5e3fbecd82ca5fc34')
replaces=('ds-inhibit')

prepare() {
	export RUSTUP_TOOLCHAIN=stable
	cd "$srcdir"

	holo-vendor-rust-sources -o vendored -L "$pkgname-$pkgver/Cargo.lock" *.tar.gz

	cd "$pkgname-$pkgver"

	mkdir -pv .cargo

	cat << EOF >> .cargo/config.toml
	[source."crates-io"]
	replace-with = "vendored-sources"

	[source.vendored-sources]
	directory = "${srcdir}/vendored"
EOF
}

build() {
	cd "$pkgname-$pkgver"
	make build
}

package () {
	cd "$pkgname-$pkgver"
	make install DESTDIR="$pkgdir"

	install -d -m0755 "$pkgdir/usr/lib/systemd/user/gamescope-session.service.wants/"
	ln -s ../steamos-manager.service "$pkgdir/usr/lib/systemd/user/gamescope-session.service.wants/"

	install -d -m0755 "$pkgdir/usr/lib/systemd/user/graphical-session-pre.target.wants/"
	ln -s ../steamos-manager-session-cleanup.service "$pkgdir/usr/lib/systemd/user/graphical-session-pre.target.wants/"
}

check() {
	cd "$pkgname-$pkgver"
	dbus-run-session make test
}
